--- a/config/cmake/HDF5Macros.cmake
+++ b/config/cmake/HDF5Macros.cmake
@@ -23,7 +23,7 @@
       set (LIBHDF_VERSION ${HDF5_${libpackage}_PACKAGE_SOVERSION_MAJOR})
     endif ()
     set_target_properties (${libtarget} PROPERTIES VERSION ${PACKAGE_SOVERSION})
-    if (WIN32)
+    if (MSVC)
         set (${LIB_OUT_NAME} "${LIB_OUT_NAME}-${LIBHDF_VERSION}")
     else ()
         set_target_properties (${libtarget} PROPERTIES SOVERSION ${LIBHDF_VERSION})
--- a/config/cmake/HDFMacros.cmake
+++ b/config/cmake/HDFMacros.cmake
@@ -129,7 +129,7 @@
   )
 
   if (${libtype} MATCHES "STATIC")
-    if (WIN32)
+    if (MSVC)
       set_target_properties (${libtarget} PROPERTIES
           COMPILE_PDB_NAME_DEBUG          ${LIB_DEBUG_NAME}
           COMPILE_PDB_NAME_DEVELOPER      ${LIB_DEBUG_NAME}
