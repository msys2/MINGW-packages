diff -bur astyle-3.6.6-orig/AStyle/CMakeLists.txt astyle-3.6.6/AStyle/CMakeLists.txt
--- astyle-3.6.6-orig/AStyle/CMakeLists.txt	2025-02-01 00:43:23.930694200 -0700
+++ astyle-3.6.6/AStyle/CMakeLists.txt	2025-02-01 00:45:19.693799400 -0700
@@ -130,7 +130,7 @@
 option(INSTALL_DOC ON)
 
 if(BUILD_SHARED_LIBS OR BUILD_STATIC_LIBS)
-    if(NOT WIN32)
+    if(NOT MSVC)
         install(TARGETS astyle DESTINATION lib)
     endif()
 else()
@@ -140,7 +140,7 @@
             install(FILES ${DOCS} DESTINATION "${SKBUILD_DATA_DIR}/share/doc/astyle/html")
             install(FILES ${MAN} DESTINATION "${SKBUILD_DATA_DIR}/share/man/man1")
         endif()
-    elseif(WIN32)
+    elseif(MSVC)
         set(pf86 "PROGRAMFILES(x86)")
         set(prog_files $ENV{${pf86}})
         if(NOT ${prog_files})
@@ -172,24 +172,24 @@
 
 # Set output file names if different than 'astyle'
 if(BUILD_JAVA_LIBS)
-    if(WIN32)
+    if(MSVC)
         set_property(TARGET astyle PROPERTY OUTPUT_NAME AStyle32j)
         set_property(TARGET astyle PROPERTY PREFIX "")
     else()
         set_property(TARGET astyle PROPERTY OUTPUT_NAME astylej)
     endif()
 elseif(BUILD_SHARED_LIBS)
-    if(WIN32)
+    if(MSVC)
         set_property(TARGET astyle PROPERTY OUTPUT_NAME AStyle32)
         set_property(TARGET astyle PROPERTY PREFIX "")
     endif()
 elseif(BUILD_STATIC_LIBS)
-    if(WIN32)
+    if(MSVC)
         set_property(TARGET astyle PROPERTY OUTPUT_NAME AStyleLib)
         set_property(TARGET astyle PROPERTY PREFIX "")
     endif()
 else()
-    if(WIN32)
+    if(MSVC)
         set_property(TARGET astyle PROPERTY OUTPUT_NAME AStyle)
     endif()
 endif()
