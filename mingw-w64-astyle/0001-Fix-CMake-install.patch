From 949cbb5d0f33644afa0791a38b9c0210622f3ae7 Mon Sep 17 00:00:00 2001
From: StableAgOH <stagoh@qq.com>
Date: Wed, 6 Sep 2023 22:43:14 +0800
Subject: [PATCH] Fix CMake install

---
 AStyle/build/cmake/InstallOptions.cmake | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/AStyle/build/cmake/InstallOptions.cmake b/AStyle/build/cmake/InstallOptions.cmake
index 7b0ca7a..392bceb 100644
--- a/AStyle/build/cmake/InstallOptions.cmake
+++ b/AStyle/build/cmake/InstallOptions.cmake
@@ -4,11 +4,11 @@
 # This may be modified by -DCMAKE_INSTALL_PREFIX=
 # Default Win32 install prefix is not used (C:/Program Files (x86))
 if(BUILD_SHARED_LIBS OR BUILD_STATIC_LIBS)
-    if(NOT WIN32)
+    if(NOT MSVC)
         install(TARGETS astyle DESTINATION lib)
     endif()
 else()
-    if(WIN32)
+    if(MSVC)
         set(pf86 "PROGRAMFILES(x86)")
         set(prog_files $ENV{${pf86}})
         if(NOT ${prog_files})
@@ -27,6 +27,6 @@ else()
 		endif()
         install(TARGETS astyle DESTINATION "${CMAKE_INSTALL_PREFIX}/bin")
         install(FILES ${DOCS} DESTINATION "${CMAKE_INSTALL_PREFIX}/share/doc/astyle/html")
-        INSTALL(FILES ${MAN} DESTINATION "${CMAKE_INSTALL_PREFIX}/man/man1")
+        INSTALL(FILES ${MAN} DESTINATION "${CMAKE_INSTALL_PREFIX}/share/man/man1")
 	endif()
 endif()
-- 
2.41.0.windows.1

