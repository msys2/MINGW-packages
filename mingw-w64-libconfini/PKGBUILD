_realname='libconfini'
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver='1.10.4'
pkgrel=1
pkgdesc='Yet another INI parser'
arch=('i686' 'x86_64')
url='https://madmurphy.github.io/libconfini'
license=('GPL')
provides=("${_realname}")
conflicts=("${pkgname}-git" "${pkgname}-bin")
options=('staticlibs')
source=("https://github.com/madmurphy/${_realname}/archive/${pkgver}.tar.gz")
sha256sums=('b249955eb43a0dae79bc1e0d5939f709ce2849cfcaafe19eee198316dc8ca749')

prepare() {

	cd "${srcdir}/${_realname}-${pkgver}"

	./bootstrap --clean
	./bootstrap --noconfigure

	./configure \
		--prefix="${MINGW_PREFIX}" \
		--build="${MINGW_CHOST}" \
		--host="${MINGW_CHOST}" \
		--enable-shared \
		--enable-static

}

build() {

	cd "${srcdir}/${_realname}-${pkgver}"
	make

}

package() {

	cd "${srcdir}/${_realname}-${pkgver}"
	make DESTDIR="${pkgdir}" install

}

