# Contributor: Feng Shu <tumashu@163.com>

_realname=rime-bopomofo
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=0.0.0.20260106
_commit=a8c35a4ae3998ac0cdbd02fbb42c883ecada4279
pkgrel=1
pkgdesc="Bopomofo input for rime (mingw-w64)"
arch=('any')
mingw_arch=('mingw32' 'mingw64' 'ucrt64' 'clang64' 'clangarm64')
url="https://github.com/rime/rime-bopomofo"
license=('LGPL')
# Rime will regenerate yaml&prism bin, which makes terra-pinyin required on runtime (for translator)
# rime-cangjie is dependency for reverse lookup
depends=("${MINGW_PACKAGE_PREFIX}-rime-cangjie"
         "${MINGW_PACKAGE_PREFIX}-rime-terra-pinyin")
source=("https://github.com/rime/rime-bopomofo/archive/${_commit}/rime-bopomofo-${_commit}.tar.gz")
sha512sums=('93bc5c4ef4220fda187143f73d1ebdd6f1d8aa221de431de49418c7bcfbdde6374650649b5555bb06912a5875a06a2d3d6bd863eab8e0b1f46bd0a6f1df15e3e')

package() {
  cd "rime-bopomofo-${_commit}"
  install -Dm644 *.yaml -t "${pkgdir}${MINGW_PREFIX}/share/rime-data/"
}
