From 9c918820a06a246ebec9baa9d85dc46e806601fb Mon Sep 17 00:00:00 2001
From: Cyril Arnould <cyril.arnould@outlook.com>
Date: Tue, 13 Jun 2023 23:44:22 +0200
Subject: [PATCH 06/17] Rename CONTEXT_ALL

It seems to be reserved in mingw
---
 lib/regextype.c | 18 +++++++++---------
 lib/regextype.h |  4 ++--
 2 files changed, 11 insertions(+), 11 deletions(-)

diff --git a/lib/regextype.c b/lib/regextype.c
index 9765b9b2..bc940b62 100644
--- a/lib/regextype.c
+++ b/lib/regextype.c
@@ -49,15 +49,15 @@ static struct tagRegexTypeMap regex_map[] =
   {
    { "findutils-default",     CONTEXT_FINDUTILS, RE_SYNTAX_EMACS|RE_DOT_NEWLINE  },
    { "ed",                    CONTEXT_GENERIC,   RE_SYNTAX_ED                    },
-   { "emacs",                 CONTEXT_ALL,       RE_SYNTAX_EMACS                 },
-   { "gnu-awk",               CONTEXT_ALL,       RE_SYNTAX_GNU_AWK               },
-   { "grep",                  CONTEXT_ALL,       RE_SYNTAX_GREP                  },
-   { "posix-awk",             CONTEXT_ALL,       RE_SYNTAX_POSIX_AWK             },
-   { "awk",                   CONTEXT_ALL,       RE_SYNTAX_AWK                   },
-   { "posix-basic",           CONTEXT_ALL,       RE_SYNTAX_POSIX_BASIC           },
-   { "posix-egrep",           CONTEXT_ALL,       RE_SYNTAX_POSIX_EGREP           },
-   { "egrep",                 CONTEXT_ALL,       RE_SYNTAX_EGREP                 },
-   { "posix-extended",        CONTEXT_ALL,       RE_SYNTAX_POSIX_EXTENDED        },
+   { "emacs",                 CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_EMACS                 },
+   { "gnu-awk",               CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_GNU_AWK               },
+   { "grep",                  CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_GREP                  },
+   { "posix-awk",             CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_POSIX_AWK             },
+   { "awk",                   CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_AWK                   },
+   { "posix-basic",           CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_POSIX_BASIC           },
+   { "posix-egrep",           CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_POSIX_EGREP           },
+   { "egrep",                 CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_EGREP                 },
+   { "posix-extended",        CONTEXT_FINDUTILS_OR_GENERIC,       RE_SYNTAX_POSIX_EXTENDED        },
    { "posix-minimal-basic",   CONTEXT_GENERIC,   RE_SYNTAX_POSIX_MINIMAL_BASIC   },
    { "sed",                   CONTEXT_GENERIC,   RE_SYNTAX_SED                   },
    /*    ,{ "posix-common",   CONTEXT_GENERIC,  _RE_SYNTAX_POSIX_COMMON   } */
diff --git a/lib/regextype.h b/lib/regextype.h
index bcaa8eb1..4abe2325 100644
--- a/lib/regextype.h
+++ b/lib/regextype.h
@@ -29,7 +29,7 @@ int get_regex_type(const char *s);
 enum {
   CONTEXT_FINDUTILS = 1u,
   CONTEXT_GENERIC   = 2u,
-  CONTEXT_ALL = CONTEXT_GENERIC|CONTEXT_FINDUTILS,
+  CONTEXT_FINDUTILS_OR_GENERIC = CONTEXT_GENERIC|CONTEXT_FINDUTILS,
 };
 
 
@@ -52,7 +52,7 @@ int get_regex_type_flags(unsigned int ix);
  */
 int get_regex_type_synonym(unsigned int ix, unsigned int context);
 
-/* Returns one of CONTEXT_FINDUTILS, CONTEXT_GENERIC or CONTEXT_ALL.
+/* Returns one of CONTEXT_FINDUTILS, CONTEXT_GENERIC or CONTEXT_FINDUTILS_OR_GENERIC.
  * This identifies whether this regular expression type index is relevant for,
  * respectively, findutils, general callers, or all callers.
  */
-- 
2.41.0

