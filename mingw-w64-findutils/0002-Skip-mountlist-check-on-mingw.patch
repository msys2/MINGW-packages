From 1271476c351a641aa10a721e419beb21ae4e14e5 Mon Sep 17 00:00:00 2001
From: Cyril Arnould <cyril.arnould@outlook.com>
Date: Tue, 13 Jun 2023 16:41:40 +0200
Subject: [PATCH 02/17] Skip mountlist check on mingw

---
 gnulib-local/m4/mountlist.m4.diff | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)
 create mode 100644 gnulib-local/m4/mountlist.m4.diff

-- 
2.41.0

--- a/gl/m4/mountlist.m4
+++ b/gl/m4/mountlist.m4
@@ -306,6 +306,16 @@
   fi
 
   if test -z "$ac_list_mounted_fs"; then
+      # The ezwinports modifications allow mountlist to be used
+      # in mingw or MSVC
+    case "$host_os" in
+          mingw*)
+              ac_list_mounted_fs=found
+              ;;
+    esac
+  fi
+  
+  if test -z "$ac_list_mounted_fs"; then
     AC_MSG_ERROR([could not determine how to read list of mounted file systems])
     # FIXME -- no need to abort building the whole package
     # Can't build mountlist.c or anything that needs its functions
