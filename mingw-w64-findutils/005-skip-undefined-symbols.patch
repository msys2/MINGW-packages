--- a/locate/locate.c
+++ b/locate/locate.c
@@ -1513,6 +1537,7 @@
                 |O_LARGEFILE
 #endif
                 );
+#if defined HAVE_FCNTL
   if (fd >= 0)
     {
       /* Make sure it won't survive an exec */
@@ -1522,6 +1547,7 @@
           fd = -1;
         }
     }
+#endif
   return fd;
 }
 
--- a/xargs/xargs.c
+++ b/xargs/xargs.c
@@ -421,8 +435,12 @@
   void (*act_on_init_result)(void) = noop;
   enum BC_INIT_STATUS bcstatus;
   enum { XARGS_POSIX_HEADROOM = 2048u };
+#ifdef SIGUSR1
+# ifdef SIGUSR2
   struct sigaction sigact;
-
+# endif /* SIGUSR2 */
+#endif /* SIGUSR1 */
+  
   /* We #define __STDC_LIMIT_MACROS above for its side effect on
    * <limits.h>, but we use it here to avoid getting what would
    * otherwise be a spurious compiler warning. */
@@ -827,8 +845,10 @@
   bc_state.argbuf = xmalloc (bc_ctl.arg_max + 1);
 
   /* Make sure to listen for the kids.  */
+#ifdef SIGCHLD
   signal (SIGCHLD, SIG_DFL);
-
+#endif
+  
   if (!bc_ctl.replace_pat)
     {
       for (; optind < argc; optind++)
