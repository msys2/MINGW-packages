diff -ur RHash-1.4.0.orig/configure RHash-1.4.0/configure
--- RHash-1.4.0.orig/configure	2021-01-07 16:04:52.424305100 -0800
+++ RHash-1.4.0/configure	2021-01-07 16:06:19.389851300 -0800
@@ -873,6 +873,7 @@
 
 LIBRHASH_STATIC = librhash/$LIBRHASH_STATIC
 LIBRHASH_SHARED = librhash/$LIBRHASH_SHARED
+LIBRHASH_IMPLIB = librhash/$LIBRHASH_IMPLIB
 BUILD_TYPE      = $RHASH_BUILD_TYPE
 VERSION         = $RHASH_VERSION
 EXEC_EXT        = $EXEC_EXT
diff -ur RHash-1.4.0.orig/librhash/Makefile RHash-1.4.0/librhash/Makefile
--- RHash-1.4.0.orig/librhash/Makefile	2021-01-07 16:04:52.592968100 -0800
+++ RHash-1.4.0/librhash/Makefile	2021-01-07 16:08:24.546109100 -0800
@@ -178,7 +178,7 @@
 
 # test targets
 $(TEST_SHARED): $(LIBRHASH_SHARED) test_hashes.o
-	$(CC) $(CFLAGS) test_hashes.o $(LIBRHASH_SHARED) $(LDFLAGS) -o $@
+	$(CC) $(CFLAGS) test_hashes.o $(LIBRHASH_IMPLIB) $(LDFLAGS) -o $@
 
 $(TEST_STATIC): $(LIBRHASH_STATIC) test_hashes.o
 	$(CC) $(CFLAGS) test_hashes.o $(LIBRHASH_STATIC) $(BIN_STATIC_LDFLAGS) -o $@
diff -ur RHash-1.4.0.orig/Makefile RHash-1.4.0/Makefile
--- RHash-1.4.0.orig/Makefile	2021-01-07 16:04:51.171104900 -0800
+++ RHash-1.4.0/Makefile	2021-01-07 16:07:05.061738400 -0800
@@ -158,7 +158,7 @@
 	$(CC) $(OBJECTS) $(LIBRHASH_STATIC) $(BIN_STATIC_LDFLAGS) -o $@
 
 $(RHASH_SHARED): $(OBJECTS) $(LIBRHASH_SHARED)
-	$(CC) $(OBJECTS) $(LIBRHASH_SHARED) $(LDFLAGS) -o $@
+	$(CC) $(OBJECTS) $(LIBRHASH_IMPLIB) $(LDFLAGS) -o $@
 
 # NOTE: dependences were generated by 'gcc -Ilibrhash -MM *.c'
 # we are using plain old makefile style to support BSD make
