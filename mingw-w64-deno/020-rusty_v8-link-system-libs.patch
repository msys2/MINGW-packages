diff --git a/build.rs b/build.rs
index 7e9a65a..0df82ac 100644
--- a/build.rs
+++ b/build.rs
@@ -690,6 +690,7 @@ fn print_link_flags() {
       } else if target.contains("apple")
         || target.contains("freebsd")
         || target.contains("openbsd")
+        || target.contains("gnullvm")
       {
         println!("cargo:rustc-link-lib=dylib=c++");
       } else if target.contains("android") {
@@ -699,6 +700,7 @@ fn print_link_flags() {
       }
     }
   }
+  let target = env::var("TARGET").unwrap();
   let target_os = env::var("CARGO_CFG_TARGET_OS").unwrap();
   let target_env = env::var("CARGO_CFG_TARGET_ENV").unwrap();
 
@@ -715,7 +717,16 @@ fn print_link_flags() {
     } else {
       println!("cargo:rustc-link-lib=dylib=msvcprt");
     }
+  } else if target.ends_with("windows-gnu") {
+    // Clang-based toolchains don't use separate atomic library
+    println!("cargo:rustc-link-lib=atomic")
+  } else if target.ends_with("windows-gnullvm") {
+    println!("cargo:rustc-link-lib=pthread")
   }
+
+  println!("cargo:rustc-link-lib=icuin");
+  println!("cargo:rustc-link-lib=icuuc");
+  println!("cargo:rustc-link-lib=icudt");
 }
 
 fn print_prebuilt_src_binding_path() {
