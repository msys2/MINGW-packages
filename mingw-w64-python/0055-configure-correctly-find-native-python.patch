From 02e167001e65ab90b5763778f1d21d12ad95f50f Mon Sep 17 00:00:00 2001
From: Naveen M K <naveen521kk@gmail.com>
Date: Sun, 18 Jun 2023 14:29:50 +0530
Subject: [PATCH 055/N] configure: correctly find native python

it's required for regen-modules
---
 configure.ac | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/configure.ac b/configure.ac
index 0e9b211..672b3d9 100644
--- a/configure.ac
+++ b/configure.ac
@@ -204,9 +204,11 @@ AC_SUBST([FREEZE_MODULE])
 AC_SUBST([FREEZE_MODULE_DEPS])
 AC_SUBST([PYTHON_FOR_BUILD_DEPS])
 
+NATIVE_PYTHON_SEARCH_PATH_MINGW=`echo $host | grep -Eq 'mingw*' && echo "$MINGW_PREFIX/bin" || echo $PATH`
 AC_CHECK_PROGS([PYTHON_FOR_REGEN],
   [python$PACKAGE_VERSION python3.15 python3.14 python3.13 python3.12 python3.11 python3.10 python3 python],
-  [python3])
+  [python3],
+  [$NATIVE_PYTHON_SEARCH_PATH_MINGW])
 AC_SUBST([PYTHON_FOR_REGEN])
 
 AC_MSG_CHECKING([Python for regen version])
