diff -bur stellarium-23.3-orig/plugins/Satellites/src/gsatellite/gTime.cpp stellarium-23.3/plugins/Satellites/src/gsatellite/gTime.cpp
--- stellarium-23.3-orig/plugins/Satellites/src/gsatellite/gTime.cpp	2023-09-29 00:36:54.809378000 -0600
+++ stellarium-23.3/plugins/Satellites/src/gsatellite/gTime.cpp	2023-09-29 00:36:50.830512100 -0600
@@ -69,7 +69,7 @@
 	struct tm timeinfo;
 
 	time(&rawtime);
-	#ifdef _MSC_VER
+	#if defined(_MSC_VER) || defined(__MINGW32__)
 	gmtime_s(&timeinfo, &rawtime);
 	#else
 	gmtime_r(&rawtime, &timeinfo);
@@ -128,7 +128,7 @@
 	time_t when   = time(nullptr);
 	struct tm utc;
 	struct tm lcl;
-	#ifdef _MSC_VER
+	#if defined(_MSC_VER) || defined(__MINGW32__)
 	gmtime_s(&utc, &when);
 	localtime_s(&lcl, &when);
 	#else
@@ -154,7 +154,7 @@
 {
 	struct tm ptm;
 
-	#ifdef _MSC_VER
+	#if defined(_MSC_VER) || defined(__MINGW32__)
 	gmtime_s(&ptm, &t);
 	#else
 	gmtime_r(&t, &ptm);
