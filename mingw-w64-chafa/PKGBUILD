_realname=chafa
pkgbase=mingw-w64-$_realname
pkgname=$MINGW_PACKAGE_PREFIX-$_realname
pkgver=1.12.3
pkgrel=1
pkgdesc="Image-to-text converter supporting a wide range of symbols and palettes, transparency, animations, etc. (mingw-w64)"
arch=(any)
mingw_arch=(mingw32 mingw64 ucrt64 clang64 clang32)
url="https://hpjansson.org/chafa/"
depends=("$MINGW_PACKAGE_PREFIX-imagemagick" "$MINGW_PACKAGE_PREFIX-librsvg" "$MINGW_PACKAGE_PREFIX-libwebp" "$MINGW_PACKAGE_PREFIX-libxslt")
makedepends=("$MINGW_PACKAGE_PREFIX-gtk-doc")
license=("LGPL")
source=(https://github.com/hpjansson/chafa/releases/download/$pkgver/chafa-$pkgver.tar.xz)
sha512sums=('00d186aa3e5a184b5fe985909118fe856c7889e6674d55de6fe409f04ccac0a8698ef8063a2049e8b100ea0e9abfa5f89c959333a18cd6f934608b86f256ee5d')

build() {
  cd $_realname-$pkgver

  ./configure --prefix=$MINGW_PREFIX
  make
}

package() {
  cd $_realname-$pkgver

  make DESTDIR="$pkgdir" install
}
