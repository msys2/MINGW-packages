diff --git a/acx_pthread.m4 b/acx_pthread.m4
index bedf51c32a..8b7271fbf1 100644
--- a/acx_pthread.m4
+++ b/acx_pthread.m4
@@ -74,6 +74,9 @@ case "${host_cpu}-${host_os}" in
 
         acx_pthread_flags="-pthread -pthreads pthread -mt $acx_pthread_flags"
         ;;
+        *mingw*)
+        acx_pthread_flags="none"
+        ;;
 esac
 
 if test x"$acx_pthread_ok" = xno; then
diff --git a/configure.ac b/configure.ac
index 75af92e862..fbd4bb9e1e 100644
--- a/configure.ac
+++ b/configure.ac
@@ -805,6 +805,7 @@ AC_CHECK_TOOL([OBJCOPY], [objcopy])
 AC_CHECK_TOOL([OBJDUMP], [objdump])
 AC_CHECK_TOOL([RANLIB], [ranlib])
 AC_CHECK_TOOL([READELF], [readelf])
+AC_CHECK_TOOL([WINDRES], [windres])
 LT_INIT([dlopen win32-dll])
 
 dnl Check for system header files
@@ -988,6 +989,7 @@ fi
 AC_LANG_POP(C++)
 
 dnl Check for functions
+if test $PLATFORM != win32; then
 AC_CHECK_FUNCS(gettimeofday)
 if test "$ac_cv_func_gettimeofday" = "yes"; then
     AC_MSG_CHECKING(if gettimeofday accepts second (timezone) argument)
@@ -1000,6 +1002,7 @@ if test "$ac_cv_func_gettimeofday" = "yes"; then
 #define GETTIMEOFDAY(x) gettimeofday((x))
 #endif])
 fi
+fi
 AC_CHECK_FUNCS(time times)
 AC_CHECK_FUNCS(nanosleep)
 AC_SEARCH_LIBS(gethostname,nsl)
@@ -1070,6 +1073,7 @@ dnl Check for time function
 AC_SEARCH_LIBS(clock_gettime, rt)
 AC_CHECK_FUNCS(clock_gettime)
 
+if test $PLATFORM != win32; then
 dnl Checks for pthread functions
 AC_CHECK_FUNCS(pthread_mutexattr_setprotocol)
 AC_CHECK_FUNCS(pthread_mutexattr_setrobust_np)
@@ -1108,6 +1112,7 @@ if test "$ac_cv_header_iconv_h" = "yes"; then
 AC_SEARCH_LIBS(iconv_open, iconv)
 AC_SEARCH_LIBS(libiconv_open, iconv)
 fi
+fi
 
 dnl HPUX has a bug in .h files. To detect it we need C++ here.
 AC_LANG_PUSH(C++)
@@ -1268,7 +1273,7 @@ case "$PLATFORM" in
     ;;
 
   win32)
-    XE_PREPEND( -mthreads -lmpr -lversion -lws2_32 -lole32,LIBS)
+    XE_PREPEND( -lmpr -lversion -lws2_32 -lole32,LIBS)
     ;;
 
   *)
@@ -1381,6 +1386,7 @@ if test "x$CROSS" != "x"; then
 AC_CONFIG_FILES([gen/make.crossPlatform:builds/posix/make.$CROSS])
 fi
 
+if test $PLATFORM != win32; then
 AC_CONFIG_FILES([
 gen/Release/firebird/bin/fb_config:builds/install/posix-common/fb_config.in
 gen/Release/firebird/bin/posixLibrary.sh:builds/install/posix-common/posixLibrary.sh.in
@@ -1390,6 +1396,7 @@ gen/Release/firebird/bin/changeServerMode.sh:builds/install/posix-common/changeS
 gen/Release/firebird/bin/registerDatabase.sh:builds/install/posix-common/registerDatabase.sh.in
 gen/vers.sh:builds/posix/vers.sh.in
 ])
+fi
 
 dnl: Platform Specific Files
 
diff --git a/src/misc/writeBuildNum.sh b/src/misc/writeBuildNum.sh
index 6b19ff00a8..ca46173e00 100755
--- a/src/misc/writeBuildNum.sh
+++ b/src/misc/writeBuildNum.sh
@@ -105,12 +105,16 @@ grep ODS_VERSION $OdsH | grep -v ENCODE_ODS >$Mini
 cat >$TestCpp <<eof
 #include <stdlib.h>
 typedef unsigned short USHORT;
+#ifdef __MINGW32__
+#include "miniods.h"
+#else
 #include "$Mini"
+#endif
 int main()
 { return ODS_VERSION; }
 eof
 
-[ -z "$CXX" ] && CXX=g++
+[ -z "$CXX" ] && CXX=g++ && CXX=c++
 
 $CXX $TestCpp -o $AOut
 if [ -x $AOut ]
