diff --git a/include/private/base/SkAttributes.h b/include/private/base/SkAttributes.h
index f8df5905cd..5de29c817d 100644
--- a/include/private/base/SkAttributes.h
+++ b/include/private/base/SkAttributes.h
@@ -24,7 +24,7 @@
  *     SK_ALWAYS_INLINE void someMethod() { ... }   // should always be inlined
  */
 #if !defined(SK_ALWAYS_INLINE)
-#  if defined(SK_BUILD_FOR_WIN)
+#  if defined(_MSC_VER)
 #    define SK_ALWAYS_INLINE __forceinline
 #  else
 #    define SK_ALWAYS_INLINE SK_ATTRIBUTE(always_inline) inline
@@ -36,7 +36,7 @@
  * you can use SK_NEVER_INLINE to prevent inlining.
  */
 #if !defined(SK_NEVER_INLINE)
-#  if defined(SK_BUILD_FOR_WIN)
+#  if defined(_MSC_VER)
 #    define SK_NEVER_INLINE __declspec(noinline)
 #  else
 #    define SK_NEVER_INLINE SK_ATTRIBUTE(noinline)
diff --git a/src/core/SkRasterPipeline.h b/src/core/SkRasterPipeline.h
index 55920612c8..1d5a3452a7 100644
--- a/src/core/SkRasterPipeline.h
+++ b/src/core/SkRasterPipeline.h
@@ -26,7 +26,7 @@
 struct SkImageInfo;
 struct skcms_TransferFunction;
 
-#if __has_cpp_attribute(clang::musttail) && !defined(__EMSCRIPTEN__) && !defined(SK_CPU_ARM32) && \
+#if __has_cpp_attribute(clang::musttail) && defined(__clang__) && !defined(__EMSCRIPTEN__) && !defined(SK_CPU_ARM32) && \
         !defined(SK_CPU_LOONGARCH) && !defined(SK_CPU_PPC) && \
         !(defined(_WIN32) && defined(SK_BUILD_FOR_ANDROID_FRAMEWORK))
     // [[clang::musttail]] is disabled for the Android version of Skia running on Windows as it
--- skia/modules/skcms/src/skcms_internals.h.orig	2026-01-17 17:27:45.769963600 +0100
+++ skia/modules/skcms/src/skcms_internals.h	2026-01-17 17:27:34.094152800 +0100
@@ -56,7 +56,7 @@
                                                  && !defined(_WIN32) && !defined(__SYMBIAN32__)
             #define SKCMS_HAS_MUSTTAIL 1
         #endif
-    #elif defined(__GNUC__) && !defined(SKCMS_HAS_MUSTTAIL)
+    #elif defined(__GNUC__) && !defined(SKCMS_HAS_MUSTTAIL) && !defined(_WIN32)
         // GCC on riscv64 does not support our tail call functions
         // cf. https://gcc.gnu.org/bugzilla/show_bug.cgi?id=121784
         #if __has_cpp_attribute(clang::musttail) && !defined(__riscv)
@@ -64,7 +64,7 @@
         #else
             #define SKCMS_HAS_MUSTTAIL 0
         #endif
-    #elif !defined(__clang__) && !defined(SKCMS_HAS_MUSTTAIL)
+    #elif !defined(__clang__) && !defined(SKCMS_HAS_MUSTTAIL) && !defined(_WIN32)
         #if __has_cpp_attribute(clang::musttail)
             #define SKCMS_HAS_MUSTTAIL 1
         #else
