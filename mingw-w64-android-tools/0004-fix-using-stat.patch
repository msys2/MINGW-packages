diff -Naur android-tools-35.0.2-orig/vendor/adb/sysdeps/stat.h android-tools-35.0.2/vendor/adb/sysdeps/stat.h
--- android-tools-35.0.2-orig/vendor/adb/sysdeps/stat.h	2024-08-29 20:46:57.000000000 +0300
+++ android-tools-35.0.2/vendor/adb/sysdeps/stat.h	2025-11-10 11:48:48.846328400 +0300
@@ -35,7 +35,19 @@
 // 'struct stat'. Note that this definition of 'struct adb_stat' uses the
 // *current* macro definition of stat, so it may actually be inheriting from
 // struct _stat32i64 (or some other remapping).
-struct adb_stat : public stat {};
+#if defined(_FILE_OFFSET_BITS) && (_FILE_OFFSET_BITS == 64)
+#ifdef _USE_32BIT_TIME_T
+#define adb_stat _stat32i64
+#else
+#define adb_stat _stat64
+#endif
+#else
+#ifdef _USE_32BIT_TIME_T
+#define adb_stat _stat32
+#else
+#define adb_stat _stat64i32
+#endif
+#endif
 
 #undef stat
 #define stat adb_stat
