_realname=sby
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
_commit='54cb0307'
pkgver="r${_commit}"
pkgrel=1
pkgdesc="Front-end for Yosys-based formal verification flows"
arch=("any")
mingw_arch=('mingw32' 'mingw64' 'ucrt64')
url="https://github.com/YosysHQ/sby"
groups=("${MINGW_PACKAGE_PREFIX}-eda")
license=("custom:ISC")
#options=("!strip")
depends=(
  "${MINGW_PACKAGE_PREFIX}-yosys"
  "${MINGW_PACKAGE_PREFIX}-python"
)
optdepends=(
	"${MINGW_PACKAGE_PREFIX}-boolector"
	"${MINGW_PACKAGE_PREFIX}-yices"
	"${MINGW_PACKAGE_PREFIX}-z3"
)
makedepends=("git")
source=(
	"${_realname}::git+https://github.com/YosysHQ/${_realname}.git#commit=${_commit}"
)
sha256sums=(
	"SKIP"
)

package() {
	cd "${srcdir}/${_realname}"
	make PREFIX="${MINGW_PREFIX}" DESTDIR="${pkgdir}" install
	install -Dm644 COPYING "${pkgdir}/${MINGW_PREFIX}/share/yosys/licenses/LICENSE"
}
