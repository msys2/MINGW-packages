# Contributor: Alexander Georgievskiy <galeksandrp@gmail.com>

realname=docbook2X
_realname=$(echo ${realname} | tr '[:upper:]' '[:lower:]')
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=0.8.6
pkgrel=1
pkgdesc='docbook2X is a software package that converts DocBook documents into the traditional Unix man page format (mingw-w64)'
arch=('any')
license=('MIT')
depends=('perl-XML-SAX')
url="https://${_realname}.sourceforge.io/"
source=("https://downloads.sourceforge.net/${_realname}/${realname}-${pkgver}.tar.gz")
sha256sums=('c127bbb77dc30ca883f51b839e72b2e56b79b0f95f7ffe0a3a363eb4b80ec494')

prepare() {
  cd ${srcdir}/${realname}-${pkgver}

  ./autogen.sh
}

build() {
  cd ${srcdir}/${realname}-${pkgver}

  ./configure --prefix=${MINGW_PREFIX}
  make
}

package() {
  cd ${srcdir}/${realname}-${pkgver}

  make DESTDIR=${pkgdir} install
}
