diff --git a/rw-0.9/simplerw.c b/rw-0.9/simplerw.c.modified
index 339f16d..1f002c5 100644
--- a/rw-0.9/simplerw.c
+++ b/rw-0.9/simplerw.c
@@ -134,7 +134,7 @@ int read_graph(const char *format, const char * filename)
 		igraph_destroy(&igraph);
 		return(-1);
 	}
-	igraph_get_adjacency(&igraph, &imatrix, IGRAPH_GET_ADJACENCY_BOTH, 0);
+	igraph_get_adjacency(&igraph, &imatrix, IGRAPH_GET_ADJACENCY_BOTH, 0, IGRAPH_LOOPS_ONCE);
 	igraph_destroy(&igraph);
 	if(igraph_matrix_nrow(&imatrix) > MAX_VERTICES)
 	{
