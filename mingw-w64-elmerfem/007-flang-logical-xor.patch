diff -bur elmerfem-release-9.0-orig/fem/src/Lists.F90 elmerfem-release-9.0/fem/src/Lists.F90
--- elmerfem-release-9.0-orig/fem/src/Lists.F90	2025-12-18 22:42:43.402060400 -0700
+++ elmerfem-release-9.0/fem/src/Lists.F90	2025-12-18 22:45:53.475311400 -0700
@@ -4638,7 +4638,7 @@
          IF( FirstList ) THEN
            Handle % LValue = LValue
          ELSE
-           IF( XOR( Handle % LValue, LValue ) ) THEN
+           IF( Handle % LValue .NEQV. LValue ) THEN
              Handle % ConstantEverywhere = .FALSE.
              EXIT
            END IF
diff -bur elmerfem-release-9.0-orig/fem/src/SolverUtils.F90 elmerfem-release-9.0/fem/src/SolverUtils.F90
--- elmerfem-release-9.0-orig/fem/src/SolverUtils.F90	2025-12-18 22:42:43.415933500 -0700
+++ elmerfem-release-9.0/fem/src/SolverUtils.F90	2025-12-18 22:49:56.997996700 -0700
@@ -388,7 +388,7 @@
      IF( dofs == 1 ) THEN
        DO i=1,n
          DO j=1,n
-           IF( XOR(PerFlip(Indexes(i)),PerFlip(Indexes(j))) ) THEN
+           IF( PerFlip(Indexes(i)) .NEQV. PerFlip(Indexes(j)) ) THEN
              A(i,j) = -A(i,j)
            END IF
          END DO
@@ -396,7 +396,7 @@
      ELSE
        DO i=1,n
          DO j=1,n
-           IF( XOR(PerFlip(Indexes(i)),PerFlip(Indexes(j))) ) THEN
+           IF( PerFlip(Indexes(i)) .NEQV. PerFlip(Indexes(j)) ) THEN
              DO k=1,dofs
                DO l=1,dofs
                  A(dofs*(i-1)+k,dofs*(j-1)+l) = -A(dofs*(i-1)+k,dofs*(j-1)+l)
@@ -18117,7 +18117,7 @@
         END IF        
 
         ! Only consider external walls with just either parent in solid
-        IF( .NOT. XOR( Solid1, Solid2 ) ) CYCLE
+        IF( .NOT. ( Solid1 .NEQV. Solid2 ) ) CYCLE
         
         ! Check that the normal points outward of the solid
         IF( Solid1 ) THEN
@@ -19551,7 +19551,7 @@
                  ! If we sum up to anti-periodic dof then use different sign
                  ! - except if the target is also antiperiodic.
                  IF( PerFlipActive ) THEN
-                   IF( XOR( PerFlip(col),PerFlip(k) ) ) Scale = -Scale
+                   IF( PerFlip(col) .NEQV. PerFlip(k) ) Scale = -Scale
                  END IF
                  
                END IF
@@ -19769,7 +19769,7 @@
                  ! If we sum up to anti-periodic dof then use different sign
                  ! - except if the target is also antiperiodic.
                  IF( PerFlipActive ) THEN
-                   IF( XOR( PerFlip(col),PerFlip(k) ) ) Scale = -Scale
+                   IF( PerFlip(col) .NEQV. PerFlip(k) ) Scale = -Scale
                  END IF
                  
                END IF
@@ -19944,7 +19944,7 @@
                    ! If we sum up to anti-periodic dof then use different sign
                    ! - except if the target is also antiperiodic.
                    IF( PerFlipActive ) THEN
-                     IF( XOR( PerFlip(col),PerFlip(k) ) ) Scale = -Scale
+                     IF( PerFlip(col) .NEQV. PerFlip(k) ) Scale = -Scale
                    END IF
 
                  END IF
