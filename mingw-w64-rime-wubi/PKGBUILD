# Contributor: Feng Shu <tumashu@163.com>

_realname=rime-wubi
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=0.0.0.20231025
_commit=152a0d3f3efe40cae216d1e3b338242446848d07
pkgrel=1
pkgdesc="Wubi input for rime (mingw-w64)"
arch=('any')
mingw_arch=('mingw32' 'mingw64' 'ucrt64' 'clang64' 'clangarm64')
license=('LGPL')
# dependency for reverse lookup
depends=("${MINGW_PACKAGE_PREFIX}-rime-pinyin-simp")
url="https://github.com/rime/rime-wubi"
msys2_repository_url='https://github.com/rime/rime-wubi'
source=("https://github.com/rime/rime-wubi/archive/${_commit}/rime-wubi-${_commit}.tar.gz")
sha512sums=('f535a15f1a52b7173b42d72fec58cbb68887be590cee1a2a6b1d883dec377d61cf17ece68f0c400dec26b55fd0ac2744d0fb835d8c9129245ddc985fa256ebb8')

package() {
  cd "rime-wubi-${_commit}"
  install -Dm644 *.yaml -t "${pkgdir}${MINGW_PREFIX}/share/rime-data/"
}
