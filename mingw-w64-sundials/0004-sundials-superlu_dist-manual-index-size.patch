--- a/cmake/tpl/FindSUPERLUDIST.cmake
+++ b/cmake/tpl/FindSUPERLUDIST.cmake
@@ -54,7 +54,7 @@
 # find the library configuration file
 set(SUPERLUDIST_CUDA FALSE CACHE INTERNAL "SuperLU DIST was built with CUDA support")
 set(SUPERLUDIST_ROCM FALSE CACHE INTERNAL "SuperLU DIST was built with ROCm support")
-if(SUPERLUDIST_INCLUDE_DIRS)
+if(SUPERLUDIST_INCLUDE_DIRS AND NOT SUPERLUDIST_INDEX_SIZE)
   find_file(SUPERLUDIST_CONFIG_PATH superlu_dist_config.h PATHS "${SUPERLUDIST_INCLUDE_DIRS}")
   mark_as_advanced(FORCE SUPERLUDIST_CONFIG_PATH)
   if(SUPERLUDIST_VERSION VERSION_GREATER_EQUAL "8.0.0")
