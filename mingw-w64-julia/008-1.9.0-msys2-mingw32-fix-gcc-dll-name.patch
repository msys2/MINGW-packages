From 651755180a240788f4927e17dc27b0b6a2217bb9 Mon Sep 17 00:00:00 2001
From: Tim Stahlhut <stahta01@gmail.com>
Date: Fri, 10 Mar 2023 21:54:33 -0500
Subject: msys2 change sjlj to dw2

---
 Make.inc                                                        | 2 +-
 deps/csl.mk                                                     | 2 +-
 .../src/CompilerSupportLibraries_jll.jl                         | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/Make.inc b/Make.inc
index 609f698059..2003468cd8 100644
--- a/Make.inc
+++ b/Make.inc
@@ -1502,7 +1502,7 @@ LIBJULIACODEGEN_DEBUG_INSTALL_DEPLIB := $(call dep_lib_path,$(libdir),$(private_
 
 ifeq ($(OS),WINNT)
 ifeq ($(BINARY),32)
-LIBGCC_NAME := libgcc_s_sjlj-1.$(SHLIB_EXT)
+LIBGCC_NAME := libgcc_s_dw2-1.$(SHLIB_EXT)
 else
 LIBGCC_NAME := libgcc_s_seh-1.$(SHLIB_EXT)
 endif
diff --git a/deps/csl.mk b/deps/csl.mk
index 457e276c66..ca773a9d55 100644
--- a/deps/csl.mk
+++ b/deps/csl.mk
@@ -70,7 +70,7 @@ $(eval $(call copy_csl,$(call versioned_libname,libgomp,1)))
 ifeq ($(OS),WINNT)
 # Windows has special gcc_s names
 ifeq ($(ARCH),i686)
-$(eval $(call copy_csl,$(call versioned_libname,libgcc_s_sjlj,1)))
+$(eval $(call copy_csl,$(call versioned_libname,libgcc_s_dw2,1)))
 else
 $(eval $(call copy_csl,$(call versioned_libname,libgcc_s_seh,1)))
 endif
diff --git a/stdlib/CompilerSupportLibraries_jll/src/CompilerSupportLibraries_jll.jl b/stdlib/CompilerSupportLibraries_jll/src/CompilerSupportLibraries_jll.jl
index 097659e01b..0fabe3eea6 100644
--- a/stdlib/CompilerSupportLibraries_jll/src/CompilerSupportLibraries_jll.jl
+++ b/stdlib/CompilerSupportLibraries_jll/src/CompilerSupportLibraries_jll.jl
@@ -26,7 +26,7 @@ if Sys.iswindows()
     if arch(HostPlatform()) == "x86_64"
         const libgcc_s = "libgcc_s_seh-1.dll"
     else
-        const libgcc_s = "libgcc_s_sjlj-1.dll"
+        const libgcc_s = "libgcc_s_dw2-1.dll"
     end
     const libgfortran = string("libgfortran-", libgfortran_version(HostPlatform()).major, ".dll")
     const libstdcxx = "libstdc++-6.dll"
-- 
