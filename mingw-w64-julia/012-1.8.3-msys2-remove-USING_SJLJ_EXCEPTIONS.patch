From d8ffe56e499338a33c65fb772efe10a95851bb2c Mon Sep 17 00:00:00 2001
From: Tim Stahlhut <stahta01@gmail.com>
Date: Wed, 1 Feb 2023 08:34:55 -0500
Subject: msys2 remove USING_SJLJ_EXCEPTIONS

---
 deps/llvm.mk | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/deps/llvm.mk b/deps/llvm.mk
index 7c4c2d60df..2cc91c6160 100644
--- a/deps/llvm.mk
+++ b/deps/llvm.mk
@@ -99,7 +99,11 @@ ifeq ($(LLVM_ASSERTIONS), 1)
 LLVM_CMAKE += -DLLVM_ENABLE_ASSERTIONS:BOOL=ON
 endif # LLVM_ASSERTIONS
 ifeq ($(OS), WINNT)
+ifeq (1,$(ISMSYS_MINGW64))
+LLVM_CPPFLAGS += -D__CRT__NO_INLINE
+else
 LLVM_CPPFLAGS += -D__USING_SJLJ_EXCEPTIONS__ -D__CRT__NO_INLINE
+endif
 endif # OS == WINNT
 ifneq ($(HOSTCC),$(CC))
 LLVM_CMAKE += -DCROSS_TOOLCHAIN_FLAGS_NATIVE="-DCMAKE_C_COMPILER=$$(which $(HOSTCC));-DCMAKE_CXX_COMPILER=$$(which $(HOSTCXX))"
-- 
