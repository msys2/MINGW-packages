diff -urN bullet3-3.21-orig/CMakeLists.txt bullet3-3.21/CMakeLists.txt
--- bullet3-3.21-orig/CMakeLists.txt	2021-11-25 05:59:22.000000000 +0800
+++ bullet3-3.21/CMakeLists.txt	2022-01-24 21:43:34.721579100 +0800
@@ -374,11 +374,11 @@
 		endif()
 	ENDIF()
 
-	IF(WIN32)
+	IF(MSVC)
 		SET(BUILD_SHARED_LIBS OFF CACHE BOOL "Shared Libs" FORCE)
-	ELSE(WIN32)
+	ELSE(MSVC)
 		SET(BUILD_SHARED_LIBS ON CACHE BOOL "Shared Libs" FORCE)
-	ENDIF(WIN32)
+	ENDIF(MSVC)
 
 	IF(APPLE)
 		OPTION(BUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK "Set when you want to use the Python Framework on Mac" ON)
