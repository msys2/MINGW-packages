diff --git a/Source/JavaScriptCore/API/JSBase.h b/Source/JavaScriptCore/API/JSBase.h
index f152713..e2f7edf 100644
--- a/Source/JavaScriptCore/API/JSBase.h
+++ b/Source/JavaScriptCore/API/JSBase.h
@@ -74,7 +74,7 @@ typedef struct OpaqueJSValue* JSObjectRef;
 #define JS_EXPORT
 #elif defined(__GNUC__) && !defined(__CC_ARM) && !defined(__ARMCC__)
 #define JS_EXPORT __attribute__((visibility("default")))
-#elif defined(WIN32) || defined(_WIN32) || defined(_WIN32_WCE) || defined(__CC_ARM) || defined(__ARMCC__)
+#elif defined(_MSC_VER) || defined(_WIN32_WCE) || defined(__CC_ARM) || defined(__ARMCC__)
 #if defined(BUILDING_JavaScriptCore) || defined(STATICALLY_LINKED_WITH_JavaScriptCore)
 #define JS_EXPORT __declspec(dllexport)
 #else
diff --git a/Source/ThirdParty/ANGLE/include/export.h b/Source/ThirdParty/ANGLE/include/export.h
index cdf6245..508658f 100644
--- a/Source/ThirdParty/ANGLE/include/export.h
+++ b/Source/ThirdParty/ANGLE/include/export.h
@@ -9,7 +9,7 @@
 #ifndef LIBGLESV2_EXPORT_H_
 #define LIBGLESV2_EXPORT_H_
 
-#if defined(_WIN32)
+#if defined(_MSC_VER)
 #   if defined(LIBGLESV2_IMPLEMENTATION) || defined(LIBANGLE_IMPLEMENTATION)
 #       define ANGLE_EXPORT __declspec(dllexport)
 #   else
diff --git a/Source/WTF/wtf/ExportMacros.h b/Source/WTF/wtf/ExportMacros.h
index 5ae87d0..3bac121 100644
--- a/Source/WTF/wtf/ExportMacros.h
+++ b/Source/WTF/wtf/ExportMacros.h
@@ -50,8 +50,13 @@
 
 #if OS(WINDOWS)
 
+#if COMPILER(MSVC)
 #define WTF_EXPORT_DECLARATION __declspec(dllexport)
 #define WTF_IMPORT_DECLARATION __declspec(dllimport)
+#else
+#define WTF_EXPORT_DECLARATION
+#define WTF_IMPORT_DECLARATION
+#endif
 #define WTF_HIDDEN_DECLARATION
 
 #elif defined(__GNUC__) && !defined(__CC_ARM) && !defined(__ARMCC__)
