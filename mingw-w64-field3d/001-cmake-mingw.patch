diff -Naur Field3D-1.4.3-orig/CMakeLists.txt Field3D-1.4.3/CMakeLists.txt
--- Field3D-1.4.3-orig/CMakeLists.txt	2013-12-06 02:18:11.000000000 +0400
+++ Field3D-1.4.3/CMakeLists.txt	2014-05-28 23:13:04.896000000 +0400
@@ -39,7 +39,7 @@
 
 FIND_PACKAGE (Doxygen)
 FIND_PACKAGE (HDF5 COMPONENTS C)
-IF ( CMAKE_HOST_WIN32 )
+IF ( CMAKE_HOST_WIN32 AND NOT MINGW)
 # f3dinfo relies on program_options but don't include it, since
 # for some reason, unlike all the other boost components, a link is
 # forced via a pragma.
@@ -118,7 +118,7 @@
 ENDIF ( )
 IF ( CMAKE_HOST_WIN32 )
   # Add OpenEXR and zlib release/debug
-  FOREACH ( lib Iex Half IlmThread Imath zdll )
+  FOREACH ( lib Iex IexMath Half IlmThread Imath z )
     LIST ( APPEND Field3D_Libraries_Shared
       optimized ${lib}
       debug ${lib}_d )
@@ -144,17 +144,22 @@
 
 SET_TARGET_PROPERTIES ( Field3D PROPERTIES VERSION ${FIELD3D_VERSION})
 SET_TARGET_PROPERTIES ( Field3D PROPERTIES SOVERSION ${FIELD3D_SOVERSION})
+SET_TARGET_PROPERTIES ( Field3D PROPERTIES OUTPUT_NAME Field3D)
+SET_TARGET_PROPERTIES ( Field3D PROPERTIES RUNTIME_OUTPUT_NAME "Field3D-${FIELD3D_MAJOR_VER}")
+SET_TARGET_PROPERTIES ( Field3D PROPERTIES ARCHIVE_OUTPUT_NAME Field3D)
 
 IF ( CMAKE_HOST_WIN32 )
   SET_TARGET_PROPERTIES( Field3D PROPERTIES ENABLE_EXPORTS ON )
   IF ( BUILD_SHARED_LIBS )
     SET_TARGET_PROPERTIES( Field3D PROPERTIES COMPILE_DEFINITIONS FIELD3D_EXPORT )
   ELSE ()
     SET_TARGET_PROPERTIES( Field3D PROPERTIES COMPILE_DEFINITIONS FIELD3D_STATIC )
   ENDIF()
+  IF (NOT MINGW)
   SET_TARGET_PROPERTIES( Field3D PROPERTIES COMPILE_FLAGS -EHsc )
   SET_TARGET_PROPERTIES( Field3D PROPERTIES COMPILE_FLAGS -MD )
   SET_TARGET_PROPERTIES( Field3D PROPERTIES COMPILE_FLAGS -wd4251 )
+  ENDIF ()
 ENDIF ( )
 
 
@@ -162,7 +167,7 @@
 
 TARGET_LINK_LIBRARIES ( unitTest ${Field3D_BIN_Libraries} )
 
-IF ( CMAKE_HOST_WIN32 )
+IF ( CMAKE_HOST_WIN32 AND NOT MINGW)
   SET_TARGET_PROPERTIES( unitTest PROPERTIES COMPILE_FLAGS -bigobj )
 ENDIF ( )
 
@@ -210,14 +215,16 @@
   IF (INSTALL_DOCS)
     INSTALL (DIRECTORY 
       ${CMAKE_HOME_DIRECTORY}/docs
-      DESTINATION ${CMAKE_INSTALL_PREFIX}
+      DESTINATION ${CMAKE_INSTALL_PREFIX}/share/doc/field3d
     )
   ENDIF (INSTALL_DOCS)
 ENDIF (DOXYGEN_FOUND)
 
 INSTALL ( TARGETS
   Field3D
-  DESTINATION lib${LIB_SUFFIX}
+  RUNTIME DESTINATION bin
+  LIBRARY DESTINATION lib${LIB_SUFFIX}
+  ARCHIVE DESTINATION lib${LIB_SUFFIX}
 )
 
 FILE(GLOB Field3d_Includes  "${CMAKE_CURRENT_SOURCE_DIR}/export/*.h")
--- field3d-1.7.2/src/FieldMapping.cpp.orig	2016-07-11 15:08:38.333609500 +0300
+++ field3d-1.7.2/src/FieldMapping.cpp	2016-07-11 15:08:41.430109500 +0300
@@ -49,7 +49,7 @@
 #include "FieldMapping.h"
 #include "Types.h"
 
-#ifdef WIN32
+#ifdef _MSC_VER
 #define isnan(__x__) _isnan(__x__) 
 #endif
 
