--- a/CMakeLists.txt	2019-09-26 21:18:48.000000000 +0900
+++ b/CMakeLists.txt	2020-04-21 10:51:08.767271000 +0900
@@ -19,6 +19,7 @@ set(LIB3MF_VERSION_PRERELEASE "")  # den
 set(CMAKE_INSTALL_BINDIR bin CACHE PATH "directory for installing binary files")
 set(CMAKE_INSTALL_LIBDIR lib CACHE PATH "directory for installing library files")
 set(CMAKE_INSTALL_INCLUDEDIR include/lib3mf CACHE PATH "directory for installing header files")
+set(INSTALL_PKGCONFIGDIR "${CMAKE_INSTALL_LIBDIR}/pkgconfig" CACHE PATH "directory for installing pkgconfig (.pc) files")
 
 option(USE_INCLUDED_ZLIB "Use included zlib" ON)
 option(USE_INCLUDED_LIBZIP "Use included libzip" ON)
@@ -54,7 +55,7 @@ if(UNIX OR MINGW)
   if(APPLE)
     set(ACT_COMMANDENDING darwin)
   else()
-    set(ACT_COMMANDENDING linux)
+    set(ACT_COMMANDENDING exe)
   endif()
 elseif(WIN32)
   set(ACT_COMMANDENDING exe)
@@ -176,11 +177,26 @@ else()
   target_compile_options(${PROJECT_NAME} PUBLIC "$<$<CONFIG:RELEASE>:/O2;/sdl;/WX;/Oi;/Gy;/FC;/wd4996>")
 endif()
 
-install(TARGETS ${PROJECT_NAME}
-  ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
-  LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
-  RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}")
-install(DIRECTORY ${CMAKE_CURRENT_BINARY_DIR_AUTOGENERATED}/Bindings DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
+install(TARGETS ${PROJECT_NAME} 
+  COMPONENT bin ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
+ 	COMPONENT lib LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+  COMPONENT run RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
+install(DIRECTORY ${CMAKE_CURRENT_BINARY_DIR_AUTOGENERATED}/Bindings 
+  COMPONENT inc DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")  
+
+configure_file(${CMAKE_CURRENT_SOURCE_DIR}/lib3MF.pc.in 
+  ${CMAKE_CURRENT_BINARY_DIR}/lib3MF.pc @ONLY)
+install(FILES "${CMAKE_CURRENT_BINARY_DIR}/lib3MF.pc" 
+  COMPONENT pkgconfig DESTINATION "${INSTALL_PKGCONFIGDIR}")
+
+add_custom_target(install_bin
+  DEPENDS ${PROJECT_NAME}
+  COMMAND "${CMAKE_COMMAND}" -DCMAKE_INSTALL_COMPONENT=bin -P "${CMAKE_BINARY_DIR}/cmake_install.cmake")
+add_custom_target(install_devel
+  DEPENDS ${PROJECT_NAME}
+  COMMAND "${CMAKE_COMMAND}" -DCMAKE_INSTALL_COMPONENT=lib -P "${CMAKE_BINARY_DIR}/cmake_install.cmake"
+  COMMAND "${CMAKE_COMMAND}" -DCMAKE_INSTALL_COMPONENT=inc -P "${CMAKE_BINARY_DIR}/cmake_install.cmake"
+  COMMAND "${CMAKE_COMMAND}" -DCMAKE_INSTALL_COMPONENT=pkgconfig -P "${CMAKE_BINARY_DIR}/cmake_install.cmake")
 
 #########################################################
 option(LIB3MF_TESTS "Switch whether the tests of lib3mf should be build" ON)
