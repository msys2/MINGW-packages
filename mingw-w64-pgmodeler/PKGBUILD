# Maintainer: <matheus-catarino@hotmail.com>

_realname=pgmodeler
_builddir=build
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=0.9.2
pkgrel=1
pkgdesc="Offline documentation browser inspired by Dash"
arch=('any')
url="https://github.com/${_realname}/${_realname}"
license=("GPL3")
depends=("${MINGW_PACKAGE_PREFIX}-qt5" "${MINGW_PACKAGE_PREFIX}-postgresql")
makedepends=("${MINGW_PACKAGE_PREFIX}-gcc")
source=("https://github.com/${_realname}/${_realname}/archive/v${pkgver}.tar.gz")
sha256sums=('24710d07f67eb6b0757b5a50d179feb811a87f4dda505ed42a276fb2bbf03bfc')

prepare() {
    mkdir -p ${srcdir}/${_realname}-${pkgver}/${_builddir}
}

build() {
    cd ${srcdir}/${_realname}-${pkgver}/${_builddir}
    
    qmake -r CONFIG+=release PREFIX="${pkgdir}/${MINGW_PREFIX}" ..
    make
}

package() {
    cd ${srcdir}/${_realname}-${pkgver}/${_builddir}
    make install
}
