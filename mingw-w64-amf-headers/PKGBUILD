# Maintainer: ImperatorS79 <fevrier.simon@gmail.com>

_realname=amf-headers
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=1.5.0
pkgrel=1
pkgdesc='Header files for AMD Advanced Media Framework (mingw-w64)'
arch=('any')
mingw_arch=('mingw32' 'mingw64' 'ucrt64' 'clang64' 'clangarm64')
url='https://github.com/GPUOpen-LibrariesAndSDKs/AMF/'
msys2_repository_url='https://github.com/GPUOpen-LibrariesAndSDKs/AMF'
license=('spdx:MIT')
source=("https://github.com/GPUOpen-LibrariesAndSDKs/AMF/archive/v${pkgver}/${_realname}-${pkgver}.tar.gz")
sha256sums=('bf80ee4a77a731c5a2351b4dd74f524a18806a70099ba66a8058d91aac1150b5')

prepare() {
  cd "AMF-${pkgver}"
}

package() {
    mkdir -p "${pkgdir}${MINGW_PREFIX}"/include/AMF/
    cp -r "${srcdir}/AMF-${pkgver}"/amf/public/include/core/ "${pkgdir}${MINGW_PREFIX}"/include/AMF/
    cp -r "${srcdir}/AMF-${pkgver}"/amf/public/include/components/ "${pkgdir}${MINGW_PREFIX}"/include/AMF/

    install -D -m644 "${srcdir}/AMF-${pkgver}"/LICENSE.txt \
      "${pkgdir}"${MINGW_PREFIX}/share/licenses/${_realname}/LICENSE
}
