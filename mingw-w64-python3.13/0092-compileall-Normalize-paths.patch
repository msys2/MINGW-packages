From a827697e51f3c75913b4ed5653275689a0efd2c3 Mon Sep 17 00:00:00 2001
From: Alexey Pavlov <alexpux@gmail.com>
Date: Fri, 5 Sep 2025 16:15:09 +0300
Subject: [PATCH 092/N] compileall: Normalize paths

---
 Lib/compileall.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Lib/compileall.py b/Lib/compileall.py
index 47e2446..e5836f0 100644
--- a/Lib/compileall.py
+++ b/Lib/compileall.py
@@ -161,8 +161,8 @@ def compile_file(fullname, ddir=None, force=False, rx=None, quiet=0,
                           "in combination with stripdir or prependdir"))
 
     success = True
-    fullname = os.fspath(fullname)
-    stripdir = os.fspath(stripdir) if stripdir is not None else None
+    fullname = os.path.normpath(os.fspath(fullname))
+    stripdir = os.path.normpath(os.fspath(stripdir)) if stripdir is not None else None
     name = os.path.basename(fullname)
 
     dfile = None
