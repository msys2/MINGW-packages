From 5849e81662d32acbc7f2525caa172a8853a7c079 Mon Sep 17 00:00:00 2001
From: Alexey Pavlov <alexpux@gmail.com>
Date: Wed, 3 Sep 2025 00:03:55 +0300
Subject: [PATCH 149/N] Fix export Py_GetBuildInfo symbol

---
 Makefile.pre.in | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/Makefile.pre.in b/Makefile.pre.in
index ffb26f8..45cd8f3 100644
--- a/Makefile.pre.in
+++ b/Makefile.pre.in
@@ -1730,8 +1730,9 @@ Modules/getbuildinfo.o: $(PARSER_OBJS) \
 		$(MODULE_OBJS) \
 		$(MODOBJS) \
 		$(DTRACE_OBJS) \
-		$(srcdir)/Modules/getbuildinfo.c
-	$(CC) -c $(PY_CORE_CFLAGS) \
+		$(srcdir)/Modules/getbuildinfo.c \
+		$(PYTHON_HEADERS)
+	$(CC) -c $(PY_BUILTIN_MODULE_CFLAGS) \
 	      -DGITVERSION="\"`LC_ALL=C $(GITVERSION)`\"" \
 	      -DGITTAG="\"`LC_ALL=C $(GITTAG)`\"" \
 	      -DGITBRANCH="\"`LC_ALL=C $(GITBRANCH)`\"" \
