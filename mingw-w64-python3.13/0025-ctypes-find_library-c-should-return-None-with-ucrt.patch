From 62097ebdf6f7d5d4eb291a4032db6670493c7371 Mon Sep 17 00:00:00 2001
From: Christoph Reiter <reiter.christoph@gmail.com>
Date: Fri, 23 Jul 2021 18:23:58 +0200
Subject: [PATCH 025/N] ctypes: find_library('c') should return None with
 ucrt

Just like with MSVC. This fixes a test in test_ctypes.
---
 Lib/ctypes/util.py | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/Lib/ctypes/util.py b/Lib/ctypes/util.py
index 117bf06..d480336 100644
--- a/Lib/ctypes/util.py
+++ b/Lib/ctypes/util.py
@@ -54,6 +54,10 @@ if os.name == "nt":
 
     def find_library(name):
         if name in ('c', 'm'):
+            if sys._is_mingw:
+                if sys._is_mingw_ucrt:
+                    return None
+                return 'msvcrt.dll'
             return find_msvcrt()
         # See MSDN for the REAL search order.
         for directory in os.environ['PATH'].split(os.pathsep):
