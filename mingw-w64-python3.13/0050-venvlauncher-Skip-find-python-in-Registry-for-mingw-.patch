From eb1eb4b3ef0d509ccea2c478c82c38d224fb65f4 Mon Sep 17 00:00:00 2001
From: Alexey Pavlov <alexpux@gmail.com>
Date: Fri, 29 Aug 2025 14:03:35 +0300
Subject: [PATCH 050/N] venvlauncher: Skip find python in Registry for mingw
 builds

---
 PC/launcher.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/PC/launcher.c b/PC/launcher.c
index 6c8cd76..ffd7f7e 100644
--- a/PC/launcher.c
+++ b/PC/launcher.c
@@ -499,6 +499,7 @@ locate_all_pythons(void)
 {
     /* venv Python is highest priority */
     locate_venv_python();
+#ifndef __MINGW32__
 #if defined(_M_X64)
     /* If we are a 64bit process, first hit the 32bit keys. */
     debug(L"locating Pythons in 32bit registry\n");
@@ -519,6 +520,7 @@ locate_all_pythons(void)
     locate_pythons_for_key(HKEY_LOCAL_MACHINE, KEY_READ);
     /* Store-installed Python is lowest priority */
     locate_store_pythons();
+#endif
     qsort(installed_pythons, num_installed_pythons, sizeof(INSTALLED_PYTHON),
           compare_pythons);
 }
